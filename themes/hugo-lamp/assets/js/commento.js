!function(o,e){"use strict";var n,t,i,m="commento",r="commento-main-area",a="commento-login",c="commento-login-box-container",l="commento-mod-tools",d="commento-mod-tools-lock-button",s="commento-error",u="commento-logged-container",p="commento-comments-area",v="commento-textarea-super-container-",g="commento-textarea-container-",h="commento-textarea-",f="commento-anonymous-checkbox-",x="commento-comment-card-",b="commento-comment-body-",w="commento-comment-text-",k="commento-comment-subtitle-",y="commento-comment-timeago-",H="commento-comment-score-",T="commento-comment-options-",C="commento-comment-edit-",L="commento-comment-reply-",M="commento-comment-collapse-",S="commento-comment-upvote-",B="commento-comment-downvote-",N="commento-comment-approve-",E="commento-comment-remove-",D="commento-comment-sticky-",A="commento-comment-children-",R="commento-comment-contents-",I="commento-comment-name-",O="commento-submit-button-",U="commento-markdown-button-",q="commento-markdown-help-",P="commento-footer",j="https://commento.io",W="https://cdn.commento.io",Y=null,F=!1,J=[],_={},V={},X=!0,z=!1,G=!1,$=!1,K=!1,Q="none",Z={},oo={},eo={},no="login",to=!1,io=void 0,mo=null;function ro(o){return e.getElementById(o)}function ao(o,e){o.prepend(e)}function co(o,e){o.appendChild(e)}function lo(o,e){o.parentNode.insertBefore(e,o.nextSibling)}function so(o,e){o.classList.add("commento-"+e)}function uo(o,e){null!==o&&o.classList.remove("commento-"+e)}function po(o){return e.createElement(o)}function vo(o){null!==o&&o.parentNode.removeChild(o)}function go(o,e){var n=o.attributes[e];if(void 0!==n)return n.value}function ho(o){if(null!==o){var e=o.cloneNode(!0);if(null!==o.parentNode)return o.parentNode.replaceChild(e,o),e}return o}function fo(o,e,n){o.addEventListener("click",function(){e(n)},!1)}function xo(o,e,n){o.setAttribute(e,n)}function bo(o,e,n){var t=new XMLHttpRequest;t.open("POST",o,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onload=function(){n(JSON.parse(t.response))},t.send(JSON.stringify(e))}function wo(o){"function"==typeof o&&o()}function ko(o,n){var t,i=new Date;i.setTime(i.getTime()+31536e6),t="; expires="+i.toUTCString(),e.cookie=o+"="+n+t+"; path=/"}function yo(){var o=function(o){var n=("; "+e.cookie).split("; "+o+"=");if(2===n.length)return n.pop().split(";").shift()}("commentoCommenterToken");return void 0===o?"anonymous":o}function Ho(e){V[e.commenterHex]=e,io=e.commenterHex;var n,t,i=po("div"),m=po("div");n="undefined"!==e.link?po("a"):po("div");var r=po("div"),a=Eo(e.commenterHex+"-"+e.name);i.id=u,so(i,"logged-container"),so(m,"logged-in-as"),so(n,"name"),so(r,"logout"),n.innerText=e.name,r.innerText="Logout",fo(r,o.logout),xo(i,"style","display: none"),"undefined"!==e.link&&xo(n,"href",e.link),"undefined"===e.photo?((t=po("div")).style.background=a,t.innerHTML=e.name[0].toUpperCase(),so(t,"avatar")):(xo(t=po("img"),"src",W+"/api/commenter/photo?commenterHex="+e.commenterHex),so(t,"avatar-img")),co(m,t),co(m,n),co(i,m),co(i,r),ao(Y,i),F=!0}function To(e){if("anonymous"===yo())return F=!1,void wo(e);var n={commenterToken:yo()};bo(j+"/api/commenter/self",n,function(n){if(!n.success)return ko("commentoCommenterToken","anonymous"),void wo(e);Ho(n.commenter),o.allShow(),wo(e)})}function Co(o){var e=ro(s);e.innerText=o,xo(e,"style","display: block;")}function Lo(){xo(ro(s),"style","display: none;")}function Mo(o){var e=ro(v+o),n=ro(U+o),t=po("table"),i=po("tr"),m=po("td"),r=po("td"),a=po("tr"),c=po("td"),l=po("td"),d=po("tr"),s=po("td"),u=po("td"),p=po("tr"),g=po("td"),h=po("td"),f=po("tr"),x=po("td"),b=po("td"),w=po("tr"),k=po("td"),y=po("td");t.id=q+o,so(t,"markdown-help"),c.innerHTML="<b>bold</b>",l.innerHTML="surround text with <pre>**two asterisks**</pre>",m.innerHTML="<i>italics</i>",r.innerHTML="surround text with <pre>*asterisks*</pre>",s.innerHTML="<pre>code</pre>",u.innerHTML="surround text with <pre>`backticks`</pre>",g.innerHTML="<strike>strikethrough</strike>",h.innerHTML="surround text with <pre>~~two tilde characters~~</pre>",x.innerHTML='<a href="https://example.com">hyperlink</a>',b.innerHTML="<pre>[hyperlink](https://example.com)</pre> or just a bare URL",k.innerHTML="<blockquote>quote</blockquote>",y.innerHTML="prefix with <pre>&gt;</pre>",fo(n=ho(n),So,o),co(i,m),co(i,r),co(t,i),co(a,c),co(a,l),co(t,a),co(f,x),co(f,b),co(t,f),co(d,s),co(d,u),co(t,d),co(p,g),co(p,h),co(t,p),co(w,k),co(w,y),co(t,w),co(e,t)}function So(o){var e=ro(U+o),n=ro(q+o);fo(e=ho(e),Mo,o),vo(n)}function Bo(o,e){var n,t=po("div"),i=po("div"),m=po("textarea"),r=po("div"),a=po("input"),c=po("label"),l=po("button"),d=po("a");return t.id=v+o,i.id=g+o,m.id=h+o,a.id=f+o,l.id=O+o,d.id=U+o,so(i,"textarea-container"),so(r,"round-check"),so(r,"anonymous-checkbox-container"),so(l,"button"),so(l,"submit-button"),so(d,"markdown-button"),so(t,"button-margin"),xo(m,"placeholder","Add a comment"),xo(a,"type","checkbox"),xo(c,"for",f+o),c.innerText="Comment anonymously",l.innerText=!0===e?"Save Changes":"Add Comment",d.innerHTML="<b>M &#8595;</b> &nbsp; Markdown",m.oninput=(n=m,function(){n.style.height="",n.style.height=Math.min(Math.max(n.scrollHeight,75),400)+"px"}),fo(l,!0===e?Io:Uo,o),fo(d,Mo,o),co(i,m),co(t,i),co(r,a),co(r,c),co(t,l),X||!0===e||co(t,r),co(t,d),t}function No(o){var e=po("div");return so(e,"moderation-notice"),e.innerText=o,e}function Eo(o){for(var e=["#396ab1","#da7c30","#3e9651","#cc2529","#922428","#6b4c9a","#535154"],n=0,t=0;t<o.length;t++)n+=o.charCodeAt(t);return e[n%e.length]}function Do(o){return 1!==o?o+" points":o+" point"}function Ao(e,n){var t=e[n];if(!t||!t.length)return null;t.sort(function(o,e){return o.deleted||o.commentHex!==Q?e.deleted||e.commentHex!==Q?o.score!==e.score?e.score-o.score:o.creationDate<e.creationDate?-1:1:1/0:-1/0});var i=(new Date).getTime(),m=po("div");return t.forEach(function(t){var r,a,c,l,d,s=V[t.commenterHex],u=po("div"),p=po("div"),v=po("div"),g=po("div"),h=po("div"),f=po("div"),O=po("div"),U=po("div"),q=po("button"),P=po("button"),j=po("button"),Y=po("button"),J=po("button"),_=po("button"),X=po("button"),G=po("button"),$=Ao(e,t.commentHex),K=po("div"),Z=Eo(t.commenterHex+"-"+s.name);if(a="undefined"!==s.link&&"https://undefined"!==s.link&&""!==s.link?po("a"):po("div"),u.id=x+t.commentHex,f.id=b+t.commentHex,O.id=w+t.commentHex,v.id=k+t.commentHex,g.id=y+t.commentHex,h.id=H+t.commentHex,U.id=T+t.commentHex,q.id=C+t.commentHex,P.id=L+t.commentHex,j.id=M+t.commentHex,Y.id=S+t.commentHex,J.id=B+t.commentHex,_.id=N+t.commentHex,X.id=E+t.commentHex,G.id=D+t.commentHex,$&&($.id=A+t.commentHex),K.id=R+t.commentHex,a.id=I+t.commentHex,j.title="Collapse children",Y.title="Upvote",J.title="Downvote",q.title="Edit",P.title="Reply",_.title="Approve",X.title="Remove",Q===t.commentHex?G.title=z?"Unsticky":"This comment has been stickied":G.title="Sticky",g.title=t.creationDate.toString(),u.style.borderLeft="2px solid "+Z,t.deleted?a.innerText="[deleted]":a.innerText=s.name,O.innerHTML=t.html,g.innerHTML=(c=i,l=t.creationDate,(d=c-l)<5e3?"just now":d<6e4?Math.round(d/1e3)+" seconds ago":d<36e5?Math.round(d/6e4)+" minutes ago":d<864e5?Math.round(d/36e5)+" hours ago":d<2592e6?Math.round(d/864e5)+" days ago":d<94608e7?Math.round(d/2592e6)+" months ago":Math.round(d/94608e7)+" years ago"),h.innerText=Do(t.score),"undefined"===s.photo?((r=po("div")).style.background=Z,"anonymous"===t.commenterHex?(r.innerHTML="?",r.style["font-weight"]="bold"):r.innerHTML=s.name[0].toUpperCase(),so(r,"avatar")):(xo(r=po("img"),"src",W+"/api/commenter/photo?commenterHex="+s.commenterHex),so(r,"avatar-img")),so(u,"card"),z&&"approved"!==t.state&&so(u,"dark-card"),s.isModerator&&so(a,"moderator"),"flagged"===t.state&&so(a,"flagged"),so(p,"header"),so(a,"name"),so(v,"subtitle"),so(g,"timeago"),so(h,"score"),so(f,"body"),so(U,"options"),mo&&so(U,"options-mobile"),so(q,"option-button"),so(q,"option-edit"),so(P,"option-button"),so(P,"option-reply"),so(j,"option-button"),so(j,"option-collapse"),so(Y,"option-button"),so(Y,"option-upvote"),so(J,"option-button"),so(J,"option-downvote"),so(_,"option-button"),so(_,"option-approve"),so(X,"option-button"),so(X,"option-remove"),so(G,"option-button"),Q===t.commentHex?so(G,"option-unsticky"):so(G,"option-sticky"),F&&(t.direction>0?so(Y,"upvoted"):t.direction<0&&so(J,"downvoted")),fo(q,o.editShow,t.commentHex),fo(j,o.commentCollapse,t.commentHex),fo(_,o.commentApprove,t.commentHex),fo(X,o.commentDelete,t.commentHex),fo(G,o.commentSticky,t.commentHex),F){var oo=Ro(Y,J,t.commentHex,t.direction);Y=oo[0],J=oo[1]}else fo(Y,o.loginBoxShow,null),fo(J,o.loginBoxShow,null);fo(P,o.replyShow,t.commentHex),"undefined"!==s.link&&"https://undefined"!==s.link&&""!==s.link&&xo(a,"href",s.link),co(U,j),t.deleted||(co(U,J),co(U,Y)),t.commenterHex===io?co(U,q):t.deleted||co(U,P),!t.deleted&&z&&"root"===n&&co(U,G),t.deleted||!z&&t.commenterHex!==io||co(U,X),z&&"approved"!==t.state&&co(U,_),t.deleted||z||Q!==t.commentHex||co(U,G),xo(U,"style","width: "+32*(U.childNodes.length+1)+"px;");for(var eo=0;eo<U.childNodes.length;eo++)xo(U.childNodes[eo],"style","right: "+32*eo+"px;");if(co(v,h),co(v,g),mo||co(p,U),co(p,r),co(p,a),co(p,v),co(f,O),co(K,f),mo){co(K,U);var no=po("div");so(no,"options-clearfix"),co(K,no)}$&&(so($,"body"),co(K,$)),co(u,p),co(u,K),co(m,u)}),m}function Ro(e,n,t,i){return e=ho(e),n=ho(n),i>0?(fo(e,o.vote,[t,[1,0]]),fo(n,o.vote,[t,[1,-1]])):i<0?(fo(e,o.vote,[t,[-1,1]]),fo(n,o.vote,[t,[-1,0]])):(fo(e,o.vote,[t,[0,1]]),fo(n,o.vote,[t,[0,-1]])),[e,n]}function Io(e){var n=ro(h+e),t=n.value;if(""!==t){uo(n,"red-border");var i={commenterToken:yo(),commentHex:e,markdown:t};bo(j+"/api/comment/edit",i,function(n){if(n.success){Lo(),_[e].markdown=t,_[e].html=n.html;var i=ro(C+e),m=ro(v+e);m.innerHTML=_[e].html,m.id=w+e,delete oo[e],so(i,"option-edit"),uo(i,"option-cancel"),i.title="Edit comment",fo(i=ho(i),o.editShow,e);var r="";"unapproved"===n.state?r="Your comment is under moderation.":"flagged"===n.state&&(r="Your comment was flagged as spam and is under moderation."),""!==r&&ao(ro(v+e),No(r))}else Co(n.message)})}else so(n,"red-border")}function Oo(e){F?o.commentNew(e,yo()):o.loginBoxShow(e)}function Uo(e){if(X)Oo(e);else{var n=ro(f+e),t=ro(h+e);if(""!==t.value)return uo(t,"red-border"),n.checked?void function(e){$=!0,o.commentNew(e,"anonymous")}(e):void Oo(e);so(t,"red-border")}}function qo(e){ro(m).innerHTML="",Z={},o.main(e)}function Po(e,n,t){bo(j+"/api/commenter/login",{email:e,password:n},function(e){if(!e.success)return o.loginBoxClose(),void Co(e.message);Lo(),ko("commentoCommenterToken",e.commenterToken),Ho(e.commenter),o.allShow(),vo(ro(a)),null!==t?o.commentNew(t,e.commenterToken,function(){o.loginBoxClose()}):o.loginBoxClose()})}function jo(o){var e={isLocked:K,stickyCommentHex:Q},n={commenterToken:yo(),domain:parent.location.host,path:parent.location.pathname,attributes:e};bo(j+"/api/page/update",n,function(e){e.success?(Lo(),wo(o)):Co(e.message)})}function Wo(){for(var o,r=(o="script",e.getElementsByTagName(o)),a=0;a<r.length;a++)r[a].src.match(/\/js\/commento\.js$/)&&(n=go(r[a],"data-css-override"),i=go(r[a],"data-auto-init"),void 0===(m=go(r[a],"data-id-root"))&&(m="commento"),t=go(r[a],"data-no-fonts"))}o.logout=function(){ko("commentoCommenterToken","anonymous"),F=!1,z=!1,io=void 0,qo()},o.commentNew=function(e,n,t){var i=ro(v+e),m=ro(h+e),r=ro(L+e),a=m.value;if(""!==a){uo(m,"red-border");var c={commenterToken:n,domain:parent.location.host,path:parent.location.pathname,parentHex:e,markdown:a};bo(j+"/api/comment/new",c,function(c){if(c.success){Lo();var l="";"unapproved"===c.state?l="Your comment is under moderation.":"flagged"===c.state&&(l="Your comment was flagged as spam and is under moderation."),""!==l&&ao(ro(v+e),No(l));var d=io;void 0!==d&&"anonymous"!==n||(d="anonymous");var s=Ao({root:[{commentHex:c.commentHex,commenterHex:d,markdown:a,html:c.html,parentHex:"root",score:0,state:"approved",direction:0,creationDate:new Date}]},"root");"root"!==e?(i.replaceWith(s),Z[e]=!1,so(r,"option-reply"),uo(r,"option-cancel"),r.title="Reply to this comment",fo(r,o.replyShow,e)):(m.value="",lo(i,s)),wo(t)}else Co(c.message)})}else so(m,"red-border")},o.commentApprove=function(o){var e={commenterToken:yo(),commentHex:o};bo(j+"/api/comment/approve",e,function(e){if(e.success){Lo();var n=ro(x+o),t=ro(I+o),i=ro(N+o);uo(n,"dark-card"),uo(t,"flagged"),vo(i)}else Co(e.message)})},o.commentDelete=function(o){if(confirm("Are you sure you want to delete this comment?")){var e={commenterToken:yo(),commentHex:o};bo(j+"/api/comment/delete",e,function(e){e.success?(Lo(),ro(w+o).innerText="[deleted]"):Co(e.message)})}},o.vote=function(o){var e=o[0],n=o[1][0],t=o[1][1],i=ro(S+e),m=ro(B+e),r=ro(H+e),a={commenterToken:yo(),commentHex:e,direction:t},c=Ro(i,m,e,t);i=c[0],m=c[1],uo(i,"upvoted"),uo(m,"downvoted"),t>0?so(i,"upvoted"):t<0&&so(m,"downvoted"),r.innerText=Do(parseInt(r.innerText.replace(/[^\d-.]/g,""))+t-n),bo(j+"/api/comment/vote",a,function(o){if(!o.success)return Co(o.message),uo(i,"upvoted"),uo(m,"downvoted"),r.innerText=Do(parseInt(r.innerText.replace(/[^\d-.]/g,""))-t+n),void Ro(i,m,e,n);Lo()})},o.editShow=function(e){if(!(e in oo&&oo[e])){var n=ro(w+e);oo[e]=!0,n.replaceWith(Bo(e,!0)),ro(h+e).value=_[e].markdown;var t=ro(C+e);uo(t,"option-edit"),so(t,"option-cancel"),t.title="Cancel edit",fo(t=ho(t),o.editCollapse,e)}},o.editCollapse=function(e){var n=ro(C+e),t=ro(v+e);t.innerHTML=_[e].html,t.id=w+e,delete oo[e],so(n,"option-edit"),uo(n,"option-cancel"),n.title="Edit comment",fo(n=ho(n),o.editShow,e)},o.replyShow=function(e){if(!(e in Z&&Z[e])){lo(ro(w+e),Bo(e)),Z[e]=!0;var n=ro(L+e);uo(n,"option-reply"),so(n,"option-cancel"),n.title="Cancel reply",fo(n=ho(n),o.replyCollapse,e)}},o.replyCollapse=function(e){var n=ro(L+e);ro(v+e).remove(),delete Z[e],so(n,"option-reply"),uo(n,"option-cancel"),n.title="Reply to this comment",fo(n=ho(n),o.replyShow,e)},o.commentCollapse=function(e){var n=ro(A+e),t=ro(M+e);n&&so(n,"hidden"),uo(t,"option-collapse"),so(t,"option-uncollapse"),t.title="Expand children",fo(t=ho(t),o.commentUncollapse,e)},o.commentUncollapse=function(e){var n=ro(A+e),t=ro(M+e);n&&uo(n,"hidden"),uo(t,"option-uncollapse"),so(t,"option-collapse"),t.title="Collapse children",fo(t=ho(t),o.commentCollapse,e)},o.commentoAuth=function(e){var n,t,i,m=e.provider,r=e.id,c=window.open("","_blank");n=j+"/api/commenter/token/new",t=function(e){if(e.success){Lo(),ko("commentoCommenterToken",e.commenterToken),c.location=j+"/api/oauth/"+m+"/redirect?commenterToken="+e.commenterToken;var n=setInterval(function(){c.closed&&(clearInterval(n),To(function(){var n=ro(u);n&&xo(n,"style",""),"anonymous"!==yo()&&vo(ro(a)),null!==r?o.commentNew(r,e.commenterToken,function(){o.loginBoxClose()}):o.loginBoxClose()}))},250)}else Co(e.message)},(i=new XMLHttpRequest).open("GET",n,!0),i.onload=function(){t(JSON.parse(i.response))},i.send(null)},o.popupRender=function(e){var n=ro(c),t=po("div"),i=po("div"),m=po("div"),r=po("div"),a=po("hr"),l=po("div"),d=po("div"),s=po("div"),u=po("hr"),p=po("div"),v=po("div"),g=po("div"),h=po("input"),f=po("button"),x=po("div"),b=po("a"),w=po("div"),k=po("a"),y=po("div");t.id="commento-login-box",p.id="commento-login-box-email-subtitle",h.id="commento-login-box-email-input",f.id="commento-login-box-email-button",x.id="commento-login-box-forgot-link-container",w.id="commento-login-box-login-link-container",m.id="commento-login-box-sso-buttton-container",i.id="commento-login-box-sso-pretext",a.id="commento-login-box-hr1",l.id="commento-login-box-oauth-pretext",d.id="commento-login-box-oauth-buttons-container",u.id="commento-login-box-hr2",so(n,"login-box-container"),so(t,"login-box"),so(p,"login-box-subtitle"),so(v,"email-container"),so(g,"email"),so(h,"input"),so(f,"email-button"),so(x,"forgot-link-container"),so(b,"forgot-link"),so(w,"login-link-container"),so(k,"login-link"),so(i,"login-box-subtitle"),so(m,"oauth-buttons-container"),so(r,"oauth-buttons"),so(l,"login-box-subtitle"),so(d,"oauth-buttons-container"),so(s,"oauth-buttons"),so(y,"login-box-close"),so(Y,"root-min-height"),b.innerText="Forgot your password?",k.innerText="Don't have an account? Sign up.",p.innerText="Login with your email address",f.innerText="Continue",l.innerText="Proceed with social login",i.innerText="Proceed with "+parent.location.host+" authentication",fo(f,o.passwordAsk,e),fo(b,o.forgotPassword,e),fo(k,o.popupSwitch,e),fo(y,o.loginBoxClose),xo(n,"style","display: none; opacity: 0;"),xo(h,"name","email"),xo(h,"placeholder","Email address"),xo(h,"type","text");var H=0;if(["google","twitter","github","gitlab"].forEach(function(n){if(eo[n]){var t=po("button");so(t,"button"),so(t,n+"-button"),t.innerText=n,fo(t,o.commentoAuth,{provider:n,id:e}),co(s,t),H++}}),eo.sso){var T=po("button");so(T,"button"),so(T,"sso-button"),T.innerText="Single Sign-On",fo(T,o.commentoAuth,{provider:"sso",id:e}),co(r,T),co(m,r),co(t,i),co(t,m),(H>0||eo.commento)&&co(t,a)}H>0?(co(t,l),co(d,s),co(t,d),to=!0):to=!1,co(g,h),co(g,f),co(v,g),co(x,b),co(w,k),H>0&&eo.commento&&co(t,u),eo.commento&&(co(t,p),co(t,v),co(t,x),co(t,w)),co(t,y),no="login",n.innerHTML="",co(n,t)},o.forgotPassword=function(){window.open("","_blank").location=j+"/forgot?commenter=true",o.loginBoxClose()},o.popupSwitch=function(e){var n=ro("commento-login-box-email-subtitle");to&&(vo(ro("commento-login-box-oauth-buttons-container")),vo(ro("commento-login-box-oauth-pretext")),vo(ro("commento-login-box-hr1")),vo(ro("commento-login-box-hr2"))),eo.sso&&(vo(ro("commento-login-box-sso-buttton-container")),vo(ro("commento-login-box-sso-pretext")),vo(ro("commento-login-box-hr1")),vo(ro("commento-login-box-hr2"))),vo(ro("commento-login-box-login-link-container")),vo(ro("commento-login-box-forgot-link-container")),n.innerText="Create an account",no="signup",o.passwordAsk(e),ro("commento-login-box-email-input").focus()},o.login=function(o){var e=ro("commento-login-box-email-input"),n=ro("commento-login-box-password-input");Po(e.value,n.value,o)},o.signup=function(e){var n=ro("commento-login-box-email-input"),t=ro("commento-login-box-name-input"),i=ro("commento-login-box-website-input"),m=ro("commento-login-box-password-input"),r={email:n.value,name:t.value,website:i.value,password:m.value};bo(j+"/api/commenter/new",r,function(t){if(!t.success)return o.loginBoxClose(),void Co(t.message);Lo(),Po(n.value,m.value,e)})},o.passwordAsk=function(e){var n,t,i,m,r=ro("commento-login-box"),a=ro("commento-login-box-email-subtitle");vo(ro("commento-login-box-email-button")),vo(ro("commento-login-box-login-link-container")),vo(ro("commento-login-box-forgot-link-container")),to&&eo.length>0&&(vo(ro("commento-login-box-hr1")),vo(ro("commento-login-box-hr2")),vo(ro("commento-login-box-oauth-pretext")),vo(ro("commento-login-box-oauth-buttons-container"))),"signup"===no?(n=["name","website","password"],t=["commento-login-box-name-input","commento-login-box-website-input","commento-login-box-password-input"],i=["text","text","password"],m=["Real Name","Website (Optional)","Password"]):(n=["password"],t=["commento-login-box-password-input"],i=["password"],m=["Password"]),a.innerText="signup"===no?"Finish the rest of your profile to complete.":"Enter your password to log in.";for(var c=0;c<n.length;c++){var l=po("div"),d=po("div"),s=po("input");if(s.id=t[c],so(l,"email-container"),so(d,"email"),so(s,"input"),xo(s,"name",n[c]),xo(s,"type",i[c]),xo(s,"placeholder",m[c]),co(d,s),co(l,d),"password"===n[c]){var u=po("button");so(u,"email-button"),u.innerText=no,fo(u,"signup"===no?o.signup:o.login,e),co(d,u)}co(r,l)}"signup"===no?ro("commento-login-box-name-input").focus():ro("commento-login-box-password-input").focus()},o.threadLockToggle=function(){var o=ro(d);K=!K,o.disabled=!0,jo(function(){o.disabled=!1,qo()})},o.commentSticky=function(o){if("none"!==Q){var e=ro(D+Q);uo(e,"option-unsticky"),so(e,"option-sticky")}Q=Q===o?"none":o,jo(function(){var e=ro(D+o);Q===o?(uo(e,"option-sticky"),so(e,"option-unsticky")):(uo(e,"option-unsticky"),so(e,"option-sticky"))})},o.loadCssOverride=function(){var t,i,m,r;void 0===n?o.allShow():(t=n,i="window.commento.allShow()",m=po("link"),r=e.getElementsByTagName("head")[0],m.type="text/css",xo(m,"href",t),xo(m,"rel","stylesheet"),xo(m,"onload",i),co(r,m))},o.allShow=function(){var o=ro(r),e=ro(l),n=ro(u);xo(o,"style",""),z&&xo(e,"style",""),n&&xo(n,"style","")},o.loginBoxClose=function(){var o=ro(r),e=ro(c);uo(o,"blurred"),uo(Y,"root-min-height"),xo(e,"style","display: none")},o.loginBoxShow=function(e){var n=ro(r),t=ro(c);o.popupRender(e),so(n,"blurred"),xo(t,"style",""),window.location.hash=c,ro("commento-login-box-email-input").focus()},o.main=function(n){if(null!==(Y=ro(m))){var i,u,v;null===mo&&(mo=Y.getBoundingClientRect().width<450),so(Y,"root"),"true"!==t&&so(Y,"root-font"),(i=po("div")).id=c,co(Y,i),(u=po("div")).id=s,so(u,"error-box"),xo(u,"style","display: none;"),co(Y,u),(v=po("div")).id=r,so(v,"main-area"),xo(v,"style","display: none"),co(Y,v);var g=function(){var o=po("div"),e=po("div"),n=po("a"),t=po("span");return o.id=P,so(o,"footer"),so(e,"logo-container"),so(n,"logo"),so(t,"logo-text"),xo(n,"href","https://commento.io"),xo(n,"target","_blank"),t.innerText="Commento",co(n,t),co(e,n),co(o,e),o}();To(function(){!function(o){var e={commenterToken:yo(),domain:parent.location.host,path:parent.location.pathname};bo(j+"/api/comment/list",e,function(e){e.success?(Lo(),X=e.requireIdentification,z=e.isModerator,G=e.isFrozen,K=e.attributes.isLocked,Q=e.attributes.stickyCommentHex,J=e.comments,V=Object.assign({},V,e.commenters),eo=e.configuredOauths,wo(o)):Co(e.message)})}(function(){var t,i;t=po("div"),i=po("button"),t.id=l,i.id=d,so(t,"mod-tools"),i.innerHTML=K?"Unlock Thread":"Lock Thread",fo(i,o.threadLockToggle),xo(t,"style","display: none"),co(t,i),co(Y,t),function(e){var n=po("div"),t=po("div"),i=ro(r),m=po("div");n.id=a,m.id=p,so(n,"login"),so(t,"login-text"),so(m,"comments"),t.innerText="Login",m.innerHTML="",fo(t,o.loginBoxShow,null),co(n,t),K||G?F||$?(co(i,No("This thread is locked. You cannot add new comments.")),vo(ro(a))):(co(i,n),co(i,Bo("root"))):(F?vo(ro(a)):co(i,n),co(i,Bo("root"))),co(i,m),co(Y,i),wo(e)}(function(){!function(){var o,e={},n=ro(p);J.forEach(function(n){(o=n.parentHex)in e||(e[o]=[]),n.creationDate=new Date(n.creationDate),e[o].push(n),_[n.commentHex]={html:n.html,markdown:n.markdown}});var t=Ao(e,"root");t&&co(n,t)}(),co(Y,g),function(){if(window.location.hash)if(window.location.hash.startsWith("#commento-")){var o=ro(x+window.location.hash.split("-")[1]);if(null===o)return;so(o,"highlighted-card"),o.scrollIntoView(!0)}else window.location.hash.startsWith("#commento")&&Y.scrollIntoView(!0)}(),o.allShow(),function(){for(var o=e.getElementsByClassName("commento-name"),n=0;n<o.length;n++)xo(o[n],"style","max-width: "+(o[n].getBoundingClientRect().width+20)+"px;")}(),wo(n)})})})}else console.log("[commento] error: no root element with ID '"+m+"' found")};var Yo=!1;function Fo(){Yo||(Yo=!0,Wo(),"true"===i||void 0===i?o.main(void 0):"false"!==i&&console.log("[commento] error: invalid value for data-auto-init; allowed values: true, false"))}var Jo=function(){var o=e.readyState;"loading"===o?e.addEventListener("readystatechange",Jo):"interactive"===o?Fo():"complete"===o&&Fo()};Jo()}(window.commento,document);
