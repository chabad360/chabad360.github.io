!function(e,s){"use strict";var ab,aA,Q,E="commento",H="commento-main-area",C="commento-login",F="commento-login-box-container",aC="commento-mod-tools",aD="commento-mod-tools-lock-button",T="commento-error",ad="commento-logged-container",aE="commento-comments-area",t="commento-textarea-super-container-",aG="commento-textarea-container-",I="commento-textarea-",Z="commento-anonymous-checkbox-",$="commento-comment-card-",aI="commento-comment-body-",A="commento-comment-text-",aS="commento-comment-subtitle-",aK="commento-comment-timeago-",av="commento-comment-score-",aM="commento-comment-options-",P="commento-comment-edit-",O="commento-comment-reply-",aa="commento-comment-collapse-",ar="commento-comment-upvote-",aq="commento-comment-downvote-",ap="commento-comment-approve-",aN="commento-comment-remove-",Y="commento-comment-sticky-",X="commento-comment-children-",aO="commento-comment-contents-",am="commento-comment-name-",aQ="commento-submit-button-",W="commento-markdown-button-",ak="commento-markdown-help-",aR="commento-footer",k="https://commento.io",ag="https://cdn.commento.io",j=null,u=!1,az=[],z={},M={},V=!0,r=!1,ah=!1,aF=!1,y=!1,l="none",B={},D={},v={},x="login",K=!1,G=void 0,J=null,al,au;function d(a){return s.getElementById(a)}function S(a,b){a.prepend(b)}function b(a,b){a.appendChild(b)}function aj(a,b){a.parentNode.insertBefore(b,a.nextSibling)}function a(a,b){a.classList.add("commento-"+b)}function i(a,b){null!==a&&a.classList.remove("commento-"+b)}function c(a){return s.createElement(a)}function h(a){null!==a&&a.parentNode.removeChild(a)}function N(b,c){var a=b.attributes[c];if(void 0!==a)return a.value}function m(a){if(null!==a){var b=a.cloneNode(!0);if(null!==a.parentNode)return a.parentNode.replaceChild(b,a),b}return a}function f(a,b,c){a.addEventListener("click",function(){b(c)},!1)}function g(a,b,c){a.setAttribute(b,c)}function p(b,c,d){var a=new XMLHttpRequest;a.open("POST",b,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onload=function(){d(JSON.parse(a.response))},a.send(JSON.stringify(c))}function w(a){"function"==typeof a&&a()}function R(c,d){var b,a=new Date;a.setTime(a.getTime()+31536e6),b="; expires="+a.toUTCString(),s.cookie=c+"="+d+b+"; path=/"}function q(){var a=function(b){var a=("; "+s.cookie).split("; "+b+"=");if(2===a.length)return a.pop().split(";").shift()}("commentoCommenterToken");return void 0===a?"anonymous":a}function ax(d){var k,h,i,l,m,n;M[d.commenterHex]=d,G=d.commenterHex,i=c("div"),l=c("div"),k="undefined"!==d.link?c("a"):c("div"),m=c("div"),n=af(d.commenterHex+"-"+d.name),i.id=ad,a(i,"logged-container"),a(l,"logged-in-as"),a(k,"name"),a(m,"logout"),k.innerText=d.name,m.innerText="Logout",f(m,e.logout),g(i,"style","display: none"),"undefined"!==d.link&&g(k,"href",d.link),"undefined"===d.photo?((h=c("div")).style.background=n,h.innerHTML=d.name[0].toUpperCase(),a(h,"avatar")):(g(h=c("img"),"src",ag+"/api/commenter/photo?commenterHex="+d.commenterHex),a(h,"avatar-img")),b(l,h),b(l,k),b(i,l),b(i,m),S(j,i),u=!0}function ay(a){if("anonymous"===q())return u=!1,void w(a);var b={commenterToken:q()};p(k+"/api/commenter/self",b,function(b){if(!b.success)return R("commentoCommenterToken","anonymous"),void w(a);ax(b.commenter),e.allShow(),w(a)})}function o(b){var a=d(T);a.innerText=b,g(a,"style","display: block;")}function n(){g(d(T),"style","display: none;")}function aB(g){var C=d(t+g),x=d(W+g),e=c("table"),j=c("tr"),u=c("td"),r=c("td"),n=c("tr"),q=c("td"),p=c("td"),l=c("tr"),o=c("td"),s=c("td"),k=c("tr"),v=c("td"),w=c("td"),i=c("tr"),y=c("td"),z=c("td"),h=c("tr"),A=c("td"),B=c("td");e.id=ak+g,a(e,"markdown-help"),q.innerHTML="<b>bold</b>",p.innerHTML="surround text with <pre>**two asterisks**</pre>",u.innerHTML="<i>italics</i>",r.innerHTML="surround text with <pre>*asterisks*</pre>",o.innerHTML="<pre>code</pre>",s.innerHTML="surround text with <pre>`backticks`</pre>",v.innerHTML="<strike>strikethrough</strike>",w.innerHTML="surround text with <pre>~~two tilde characters~~</pre>",y.innerHTML='<a href="https://example.com">hyperlink</a>',z.innerHTML="<pre>[hyperlink](https://example.com)</pre> or just a bare URL",A.innerHTML="<blockquote>quote</blockquote>",B.innerHTML="prefix with <pre>&gt;</pre>",f(x=m(x),aH,g),b(j,u),b(j,r),b(e,j),b(n,q),b(n,p),b(e,n),b(i,y),b(i,z),b(e,i),b(l,o),b(l,s),b(e,l),b(k,v),b(k,w),b(e,k),b(h,A),b(h,B),b(e,h),b(C,e)}function aH(a){var b=d(W+a),c=d(ak+a);f(b=m(b),aB,a),h(c)}function L(d,n){var l,e=c("div"),m=c("div"),j=c("textarea"),k=c("div"),o=c("input"),p=c("label"),h=c("button"),i=c("a");return e.id=t+d,m.id=aG+d,j.id=I+d,o.id=Z+d,h.id=aQ+d,i.id=W+d,a(m,"textarea-container"),a(k,"round-check"),a(k,"anonymous-checkbox-container"),a(h,"button"),a(h,"submit-button"),a(i,"markdown-button"),a(e,"button-margin"),g(j,"placeholder","Add a comment"),g(o,"type","checkbox"),g(p,"for",Z+d),p.innerText="Comment anonymously",h.innerText=!0===n?"Save Changes":"Add Comment",i.innerHTML="<b>M &#8595;</b> &nbsp; Markdown",j.oninput=(l=j,function(){l.style.height="",l.style.height=Math.min(Math.max(l.scrollHeight,75),400)+"px"}),f(h,!0===n?aJ:aL,d),f(i,aB,d),b(m,j),b(e,m),b(k,o),b(k,p),b(e,h),V||!0===n||b(e,k),b(e,i),e}function U(d){var b=c("div");return a(b,"moderation-notice"),b.innerText=d,b}function af(b){for(var c=["#396ab1","#da7c30","#3e9651","#cc2529","#922428","#6b4c9a","#535154"],d=0,a=0;a<b.length;a++)d+=b.charCodeAt(a);return c[d%c.length]}function ae(a){return 1!==a?a+" points":a+" point"}function ac(h,i){var d=h[i],k,j;return!d||!d.length?null:(d.sort(function(a,b){return a.deleted||a.commentHex!==l?b.deleted||b.commentHex!==l?a.score!==b.score?b.score-a.score:a.creationDate<b.creationDate?-1:1:1/0:-1/0}),k=(new Date).getTime(),j=c("div"),d.forEach(function(d){var v,q,S,R,o,n=M[d.commenterHex],w=c("div"),z=c("div"),I=c("div"),H=c("div"),L=c("div"),K=c("div"),Q=c("div"),m=c("div"),E=c("button"),D=c("button"),B=c("button"),t=c("button"),p=c("button"),y=c("button"),x=c("button"),s=c("button"),F=ac(h,d.commentHex),C=c("div"),T=af(d.commenterHex+"-"+n.name),U,N,V;q="undefined"!==n.link&&"https://undefined"!==n.link&&""!==n.link?c("a"):c("div"),w.id=$+d.commentHex,K.id=aI+d.commentHex,Q.id=A+d.commentHex,I.id=aS+d.commentHex,H.id=aK+d.commentHex,L.id=av+d.commentHex,m.id=aM+d.commentHex,E.id=P+d.commentHex,D.id=O+d.commentHex,B.id=aa+d.commentHex,t.id=ar+d.commentHex,p.id=aq+d.commentHex,y.id=ap+d.commentHex,x.id=aN+d.commentHex,s.id=Y+d.commentHex,F&&(F.id=X+d.commentHex),C.id=aO+d.commentHex,q.id=am+d.commentHex,B.title="Collapse children",t.title="Upvote",p.title="Downvote",E.title="Edit",D.title="Reply",y.title="Approve",x.title="Remove",l===d.commentHex?s.title=r?"Unsticky":"This comment has been stickied":s.title="Sticky",H.title=d.creationDate.toString(),w.style.borderLeft="2px solid "+T,d.deleted?q.innerText="[deleted]":q.innerText=n.name,Q.innerHTML=d.html,H.innerHTML=(S=k,R=d.creationDate,(o=S-R)<5e3?"just now":o<6e4?Math.round(o/1e3)+" seconds ago":o<36e5?Math.round(o/6e4)+" minutes ago":o<864e5?Math.round(o/36e5)+" hours ago":o<2592e6?Math.round(o/864e5)+" days ago":o<94608e7?Math.round(o/2592e6)+" months ago":Math.round(o/94608e7)+" years ago"),L.innerText=ae(d.score),"undefined"===n.photo?((v=c("div")).style.background=T,"anonymous"===d.commenterHex?(v.innerHTML="?",v.style["font-weight"]="bold"):v.innerHTML=n.name[0].toUpperCase(),a(v,"avatar")):(g(v=c("img"),"src",ag+"/api/commenter/photo?commenterHex="+n.commenterHex),a(v,"avatar-img")),a(w,"card"),r&&"approved"!==d.state&&a(w,"dark-card"),n.isModerator&&a(q,"moderator"),"flagged"===d.state&&a(q,"flagged"),a(z,"header"),a(q,"name"),a(I,"subtitle"),a(H,"timeago"),a(L,"score"),a(K,"body"),a(m,"options"),J&&a(m,"options-mobile"),a(E,"option-button"),a(E,"option-edit"),a(D,"option-button"),a(D,"option-reply"),a(B,"option-button"),a(B,"option-collapse"),a(t,"option-button"),a(t,"option-upvote"),a(p,"option-button"),a(p,"option-downvote"),a(y,"option-button"),a(y,"option-approve"),a(x,"option-button"),a(x,"option-remove"),a(s,"option-button"),l===d.commentHex?a(s,"option-unsticky"):a(s,"option-sticky"),u&&(d.direction>0?a(t,"upvoted"):d.direction<0&&a(p,"downvoted")),f(E,e.editShow,d.commentHex),f(B,e.commentCollapse,d.commentHex),f(y,e.commentApprove,d.commentHex),f(x,e.commentDelete,d.commentHex),f(s,e.commentSticky,d.commentHex),u?(U=_(t,p,d.commentHex,d.direction),t=U[0],p=U[1]):(f(t,e.loginBoxShow,null),f(p,e.loginBoxShow,null)),f(D,e.replyShow,d.commentHex),"undefined"!==n.link&&"https://undefined"!==n.link&&""!==n.link&&g(q,"href",n.link),b(m,B),d.deleted||(b(m,p),b(m,t)),d.commenterHex===G?b(m,E):d.deleted||b(m,D),!d.deleted&&r&&"root"===i&&b(m,s),d.deleted||!r&&d.commenterHex!==G||b(m,x),r&&"approved"!==d.state&&b(m,y),d.deleted||r||l!==d.commentHex||b(m,s),g(m,"style","width: "+32*(m.childNodes.length+1)+"px;");for(N=0;N<m.childNodes.length;N++)g(m.childNodes[N],"style","right: "+32*N+"px;");b(I,L),b(I,H),J||b(z,m),b(z,v),b(z,q),b(z,I),b(K,Q),b(C,K),J&&(b(C,m),V=c("div"),a(V,"options-clearfix"),b(C,V)),F&&(a(F,"body"),b(C,F)),b(w,z),b(w,C),b(j,w)}),j)}function _(a,b,c,d){return a=m(a),b=m(b),d>0?(f(a,e.vote,[c,[1,0]]),f(b,e.vote,[c,[1,-1]])):d<0?(f(a,e.vote,[c,[-1,1]]),f(b,e.vote,[c,[-1,0]])):(f(a,e.vote,[c,[0,1]]),f(b,e.vote,[c,[0,-1]])),[a,b]}function aJ(b){var c=d(I+b),g=c.value,h;""!==g?(i(c,"red-border"),h={commenterToken:q(),commentHex:b,markdown:g},p(k+"/api/comment/edit",h,function(h){var c,k,j;h.success?(n(),z[b].markdown=g,z[b].html=h.html,c=d(P+b),k=d(t+b),k.innerHTML=z[b].html,k.id=A+b,delete D[b],a(c,"option-edit"),i(c,"option-cancel"),c.title="Edit comment",f(c=m(c),e.editShow,b),j="","unapproved"===h.state?j="Your comment is under moderation.":"flagged"===h.state&&(j="Your comment was flagged as spam and is under moderation."),""!==j&&S(d(t+b),U(j))):o(h.message)})):a(c,"red-border")}function aw(a){u?e.commentNew(a,q()):e.loginBoxShow(a)}function aL(b){if(V)aw(b);else{var f=d(Z+b),c=d(I+b);if(""!==c.value)return i(c,"red-border"),f.checked?void function(a){aF=!0,e.commentNew(a,"anonymous")}(b):void aw(b);a(c,"red-border")}}function at(a){d(E).innerHTML="",B={},e.main(a)}function ao(b,c,a){p(k+"/api/commenter/login",{email:b,password:c},function(b){if(!b.success)return e.loginBoxClose(),void o(b.message);n(),R("commentoCommenterToken",b.commenterToken),ax(b.commenter),e.allShow(),h(d(C)),null!==a?e.commentNew(a,b.commenterToken,function(){e.loginBoxClose()}):e.loginBoxClose()})}function an(a){var b={isLocked:y,stickyCommentHex:l},c={commenterToken:q(),domain:parent.location.host,path:parent.location.pathname,attributes:b};p(k+"/api/page/update",c,function(b){b.success?(n(),w(a)):o(b.message)})}function aP(){for(var c,b=(c="script",s.getElementsByTagName(c)),a=0;a<b.length;a++)b[a].src.match(/\/js\/commento\.js$/)&&(ab=N(b[a],"data-css-override"),Q=N(b[a],"data-auto-init"),void 0===(E=N(b[a],"data-id-root"))&&(E="commento"),aA=N(b[a],"data-no-fonts"))}e.logout=function(){R("commentoCommenterToken","anonymous"),u=!1,r=!1,G=void 0,at()},e.commentNew=function(b,j,m){var l=d(t+b),c=d(I+b),g=d(O+b),h=c.value,q;""!==h?(i(c,"red-border"),q={commenterToken:j,domain:parent.location.host,path:parent.location.pathname,parentHex:b,markdown:h},p(k+"/api/comment/new",q,function(k){var p,q,r;k.success?(n(),p="","unapproved"===k.state?p="Your comment is under moderation.":"flagged"===k.state&&(p="Your comment was flagged as spam and is under moderation."),""!==p&&S(d(t+b),U(p)),q=G,void 0!==q&&"anonymous"!==j||(q="anonymous"),r=ac({root:[{commentHex:k.commentHex,commenterHex:q,markdown:h,html:k.html,parentHex:"root",score:0,state:"approved",direction:0,creationDate:new Date}]},"root"),"root"!==b?(l.replaceWith(r),B[b]=!1,a(g,"option-reply"),i(g,"option-cancel"),g.title="Reply to this comment",f(g,e.replyShow,b)):(c.value="",aj(l,r)),w(m)):o(k.message)})):a(c,"red-border")},e.commentApprove=function(a){var b={commenterToken:q(),commentHex:a};p(k+"/api/comment/approve",b,function(b){if(b.success){n();var c=d($+a),e=d(am+a),f=d(ap+a);i(c,"dark-card"),i(e,"flagged"),h(f)}else o(b.message)})},e.commentDelete=function(a){if(confirm("Are you sure you want to delete this comment?")){var b={commenterToken:q(),commentHex:a};p(k+"/api/comment/delete",b,function(b){b.success?(n(),d(A+a).innerText="[deleted]"):o(b.message)})}},e.vote=function(j){var b=j[0],h=j[1][0],c=j[1][1],e=d(ar+b),f=d(aq+b),g=d(av+b),m={commenterToken:q(),commentHex:b,direction:c},l=_(e,f,b,c);e=l[0],f=l[1],i(e,"upvoted"),i(f,"downvoted"),c>0?a(e,"upvoted"):c<0&&a(f,"downvoted"),g.innerText=ae(parseInt(g.innerText.replace(/[^\d-.]/g,""))+c-h),p(k+"/api/comment/vote",m,function(a){if(!a.success)return o(a.message),i(e,"upvoted"),i(f,"downvoted"),g.innerText=ae(parseInt(g.innerText.replace(/[^\d-.]/g,""))-c+h),void _(e,f,b,h);n()})},e.editShow=function(b){var g,c;b in D&&D[b]||(g=d(A+b),D[b]=!0,g.replaceWith(L(b,!0)),d(I+b).value=z[b].markdown,c=d(P+b),i(c,"option-edit"),a(c,"option-cancel"),c.title="Cancel edit",f(c=m(c),e.editCollapse,b))},e.editCollapse=function(b){var c=d(P+b),g=d(t+b);g.innerHTML=z[b].html,g.id=A+b,delete D[b],a(c,"option-edit"),i(c,"option-cancel"),c.title="Edit comment",f(c=m(c),e.editShow,b)},e.replyShow=function(b){if(!(b in B&&B[b])){aj(d(A+b),L(b)),B[b]=!0;var c=d(O+b);i(c,"option-reply"),a(c,"option-cancel"),c.title="Cancel reply",f(c=m(c),e.replyCollapse,b)}},e.replyCollapse=function(c){var b=d(O+c);d(t+c).remove(),delete B[c],a(b,"option-reply"),i(b,"option-cancel"),b.title="Reply to this comment",f(b=m(b),e.replyShow,c)},e.commentCollapse=function(c){var g=d(X+c),b=d(aa+c);g&&a(g,"hidden"),i(b,"option-collapse"),a(b,"option-uncollapse"),b.title="Expand children",f(b=m(b),e.commentUncollapse,c)},e.commentUncollapse=function(c){var g=d(X+c),b=d(aa+c);g&&i(g,"hidden"),i(b,"option-uncollapse"),a(b,"option-collapse"),b.title="Collapse children",f(b=m(b),e.commentCollapse,c)},e.commentoAuth=function(b){var c,f,a,l=b.provider,i=b.id,j=window.open("","_blank");c=k+"/api/commenter/token/new",f=function(a){if(a.success){n(),R("commentoCommenterToken",a.commenterToken),j.location=k+"/api/oauth/"+l+"/redirect?commenterToken="+a.commenterToken;var b=setInterval(function(){j.closed&&(clearInterval(b),ay(function(){var b=d(ad);b&&g(b,"style",""),"anonymous"!==q()&&h(d(C)),null!==i?e.commentNew(i,a.commenterToken,function(){e.loginBoxClose()}):e.loginBoxClose()}))},250)}else o(a.message)},(a=new XMLHttpRequest).open("GET",c,!0),a.onload=function(){f(JSON.parse(a.response))},a.send(null)},e.popupRender=function(k){var z=d(F),h=c("div"),y=c("div"),t=c("div"),E=c("div"),H=c("hr"),p=c("div"),q=c("div"),C=c("div"),G=c("hr"),A=c("div"),B=c("div"),w=c("div"),i=c("input"),l=c("button"),n=c("div"),u=c("a"),s=c("div"),r=c("a"),D=c("div"),o,m;h.id="commento-login-box",A.id="commento-login-box-email-subtitle",i.id="commento-login-box-email-input",l.id="commento-login-box-email-button",n.id="commento-login-box-forgot-link-container",s.id="commento-login-box-login-link-container",t.id="commento-login-box-sso-buttton-container",y.id="commento-login-box-sso-pretext",H.id="commento-login-box-hr1",p.id="commento-login-box-oauth-pretext",q.id="commento-login-box-oauth-buttons-container",G.id="commento-login-box-hr2",a(z,"login-box-container"),a(h,"login-box"),a(A,"login-box-subtitle"),a(B,"email-container"),a(w,"email"),a(i,"input"),a(l,"email-button"),a(n,"forgot-link-container"),a(u,"forgot-link"),a(s,"login-link-container"),a(r,"login-link"),a(y,"login-box-subtitle"),a(t,"oauth-buttons-container"),a(E,"oauth-buttons"),a(p,"login-box-subtitle"),a(q,"oauth-buttons-container"),a(C,"oauth-buttons"),a(D,"login-box-close"),a(j,"root-min-height"),u.innerText="Forgot your password?",r.innerText="Don't have an account? Sign up.",A.innerText="Login with your email address",l.innerText="Continue",p.innerText="Proceed with social login",y.innerText="Proceed with "+parent.location.host+" authentication",f(l,e.passwordAsk,k),f(u,e.forgotPassword,k),f(r,e.popupSwitch,k),f(D,e.loginBoxClose),g(z,"style","display: none; opacity: 0;"),g(i,"name","email"),g(i,"placeholder","Email address"),g(i,"type","text"),o=0,(["google","twitter","github","gitlab"].forEach(function(g){if(v[g]){var d=c("button");a(d,"button"),a(d,g+"-button"),d.innerText=g,f(d,e.commentoAuth,{provider:g,id:k}),b(C,d),o++}}),v.sso)&&(m=c("button"),a(m,"button"),a(m,"sso-button"),m.innerText="Single Sign-On",f(m,e.commentoAuth,{provider:"sso",id:k}),b(E,m),b(t,E),b(h,y),b(h,t),(o>0||v.commento)&&b(h,H)),o>0?(b(h,p),b(q,C),b(h,q),K=!0):K=!1,b(w,i),b(w,l),b(B,w),b(n,u),b(s,r),o>0&&v.commento&&b(h,G),v.commento&&(b(h,A),b(h,B),b(h,n),b(h,s)),b(h,D),x="login",z.innerHTML="",b(z,h)},e.forgotPassword=function(){window.open("","_blank").location=k+"/forgot?commenter=true",e.loginBoxClose()},e.popupSwitch=function(a){var b=d("commento-login-box-email-subtitle");K&&(h(d("commento-login-box-oauth-buttons-container")),h(d("commento-login-box-oauth-pretext")),h(d("commento-login-box-hr1")),h(d("commento-login-box-hr2"))),v.sso&&(h(d("commento-login-box-sso-buttton-container")),h(d("commento-login-box-sso-pretext")),h(d("commento-login-box-hr1")),h(d("commento-login-box-hr2"))),h(d("commento-login-box-login-link-container")),h(d("commento-login-box-forgot-link-container")),b.innerText="Create an account",x="signup",e.passwordAsk(a),d("commento-login-box-email-input").focus()},e.login=function(a){var b=d("commento-login-box-email-input"),c=d("commento-login-box-password-input");ao(b.value,c.value,a)},e.signup=function(c){var a=d("commento-login-box-email-input"),f=d("commento-login-box-name-input"),g=d("commento-login-box-website-input"),b=d("commento-login-box-password-input"),h={email:a.value,name:f.value,website:g.value,password:b.value};p(k+"/api/commenter/new",h,function(d){if(!d.success)return e.loginBoxClose(),void o(d.message);n(),ao(a.value,b.value,c)})},e.passwordAsk=function(r){var k,n,p,q,t=d("commento-login-box"),s=d("commento-login-box-email-subtitle"),i,o,l,j,m;h(d("commento-login-box-email-button")),h(d("commento-login-box-login-link-container")),h(d("commento-login-box-forgot-link-container")),K&&v.length>0&&(h(d("commento-login-box-hr1")),h(d("commento-login-box-hr2")),h(d("commento-login-box-oauth-pretext")),h(d("commento-login-box-oauth-buttons-container"))),"signup"===x?(k=["name","website","password"],n=["commento-login-box-name-input","commento-login-box-website-input","commento-login-box-password-input"],p=["text","text","password"],q=["Real Name","Website (Optional)","Password"]):(k=["password"],n=["commento-login-box-password-input"],p=["password"],q=["Password"]),s.innerText="signup"===x?"Finish the rest of your profile to complete.":"Enter your password to log in.";for(i=0;i<k.length;i++)o=c("div"),l=c("div"),j=c("input"),(j.id=n[i],a(o,"email-container"),a(l,"email"),a(j,"input"),g(j,"name",k[i]),g(j,"type",p[i]),g(j,"placeholder",q[i]),b(l,j),b(o,l),"password"===k[i])&&(m=c("button"),a(m,"email-button"),m.innerText=x,f(m,"signup"===x?e.signup:e.login,r),b(l,m)),b(t,o);"signup"===x?d("commento-login-box-name-input").focus():d("commento-login-box-password-input").focus()},e.threadLockToggle=function(){var a=d(aD);y=!y,a.disabled=!0,an(function(){a.disabled=!1,at()})},e.commentSticky=function(b){if("none"!==l){var c=d(Y+l);i(c,"option-unsticky"),a(c,"option-sticky")}l=l===b?"none":b,an(function(){var c=d(Y+b);l===b?(i(c,"option-sticky"),a(c,"option-unsticky")):(i(c,"option-unsticky"),a(c,"option-sticky"))})},e.loadCssOverride=function(){var d,f,a,h;void 0===ab?e.allShow():(d=ab,f="window.commento.allShow()",a=c("link"),h=s.getElementsByTagName("head")[0],a.type="text/css",g(a,"href",d),g(a,"rel","stylesheet"),g(a,"onload",f),b(h,a))},e.allShow=function(){var b=d(H),c=d(aC),a=d(ad);g(b,"style",""),r&&g(c,"style",""),a&&g(a,"style","")},e.loginBoxClose=function(){var a=d(H),b=d(F);i(a,"blurred"),i(j,"root-min-height"),g(b,"style","display: none")},e.loginBoxShow=function(b){var c=d(H),f=d(F);e.popupRender(b),a(c,"blurred"),g(f,"style",""),window.location.hash=F,d("commento-login-box-email-input").focus()},e.main=function(A){var t,i,m,x;null!==(j=d(E))?(null===J&&(J=j.getBoundingClientRect().width<450),a(j,"root"),"true"!==aA&&a(j,"root-font"),(t=c("div")).id=F,b(j,t),(i=c("div")).id=T,a(i,"error-box"),g(i,"style","display: none;"),b(j,i),(m=c("div")).id=H,a(m,"main-area"),g(m,"style","display: none"),b(j,m),x=function(){var e=c("div"),f=c("div"),d=c("a"),h=c("span");return e.id=aR,a(e,"footer"),a(f,"logo-container"),a(d,"logo"),a(h,"logo-text"),g(d,"href","https://commento.io"),g(d,"target","_blank"),h.innerText="Commento",b(d,h),b(f,d),b(e,f),e}(),ay(function(){!function(a){var b={commenterToken:q(),domain:parent.location.host,path:parent.location.pathname};p(k+"/api/comment/list",b,function(b){b.success?(n(),V=b.requireIdentification,r=b.isModerator,ah=b.isFrozen,y=b.attributes.isLocked,l=b.attributes.stickyCommentHex,az=b.comments,M=Object.assign({},M,b.commenters),v=b.configuredOauths,w(a)):o(b.message)})}(function(){var i,k;i=c("div"),k=c("button"),i.id=aC,k.id=aD,a(i,"mod-tools"),k.innerHTML=y?"Unlock Thread":"Lock Thread",f(k,e.threadLockToggle),g(i,"style","display: none"),b(i,k),b(j,i),function(m){var i=c("div"),k=c("div"),g=d(H),l=c("div");i.id=C,l.id=aE,a(i,"login"),a(k,"login-text"),a(l,"comments"),k.innerText="Login",l.innerHTML="",f(k,e.loginBoxShow,null),b(i,k),y||ah?u||aF?(b(g,U("This thread is locked. You cannot add new comments.")),h(d(C))):(b(g,i),b(g,L("root"))):(u?h(d(C)):b(g,i),b(g,L("root"))),b(g,l),b(j,g),w(m)}(function(){!function(){var c,a={},f=d(aE),e;az.forEach(function(b){(c=b.parentHex)in a||(a[c]=[]),b.creationDate=new Date(b.creationDate),a[c].push(b),z[b.commentHex]={html:b.html,markdown:b.markdown}}),e=ac(a,"root"),e&&b(f,e)}(),b(j,x),function(){if(window.location.hash)if(window.location.hash.startsWith("#commento-")){var b=d($+window.location.hash.split("-")[1]);if(null===b)return;a(b,"highlighted-card"),b.scrollIntoView(!0)}else window.location.hash.startsWith("#commento")&&j.scrollIntoView(!0)}(),e.allShow(),function(){for(var b=s.getElementsByClassName("commento-name"),a=0;a<b.length;a++)g(b[a],"style","max-width: "+(b[a].getBoundingClientRect().width+20)+"px;")}(),w(A)})})})):console.log("[commento] error: no root element with ID '"+E+"' found")},al=!1;function ai(){al||(al=!0,aP(),"true"===Q||void 0===Q?e.main(void 0):"false"!==Q&&console.log("[commento] error: invalid value for data-auto-init; allowed values: true, false"))}au=function(){var a=s.readyState;"loading"===a?s.addEventListener("readystatechange",au):"interactive"===a?ai():"complete"===a&&ai()},au()}(window.commento,document)